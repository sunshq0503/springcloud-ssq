<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ssq.ucenter.dao.UserAuthMapper">
  <resultMap id="BaseResultMap" type="com.ssq.ucenter.entity.UserAuth">
    <!--
      WARNING - @mbg.generated
    -->
    <id column="id" jdbcType="INTEGER" property="id" />
    <result column="user_id" jdbcType="VARCHAR" property="userId" />
    <result column="identity_type" jdbcType="TINYINT" property="identityType" />
    <result column="identifier" jdbcType="VARCHAR" property="identifier" />
    <result column="credential" jdbcType="VARCHAR" property="credential" />
    <result column="bind_time" jdbcType="TIMESTAMP" property="bindTime" />
    <result column="login_time" jdbcType="TIMESTAMP" property="loginTime" />
    <result column="login_ip" jdbcType="VARCHAR" property="loginIp" />
    <result column="login_count" jdbcType="INTEGER" property="loginCount" />
  </resultMap>

  <select id="selectByIdentifierAndCredential" parameterType="java.lang.String" resultMap="BaseResultMap">
    select * from user_auth
    where
    #{identifier} = identifier and #{credential} = credential
  </select>

  <update id="updateCredentialByUid">
    update user_auth
    set credential = #{credential}
    where user_id = #{userId}
  </update>

  <update id="updateCredentialByIdentifier">
    update user_auth
    set credential = #{credential}
    where identifier = #{identifier}
  </update>

</mapper>